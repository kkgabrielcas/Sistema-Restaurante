<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css">
  <title>Sistema Cliente</title>
</head>
<body>
<div class="menu-container" id="menu-container">
</div>

<div class="carrinho-container">
  <div class="carrinho-icone" onclick="toggleCarrinho()">ðŸ›’</div>
  <div class="carrinho-detalhado">
    <h3>Carrinho de Compras</h3>
    <ul id="carrinho-lista"></ul>
    <p id="total">Total: R$ 0,00</p>
    <button class="botao-finalizar" onclick="mostrarModal()">
      Finalizar pedido
    </button>
  </div>
</div>

<div class="modal" id="modal-pagamento">
  <div class="modal-content">
    <h3>Escolha a forma de pagamento</h3>
    <button onclick="escolherFormaPagamento('Dinheiro')">Dinheiro</button>
    <button onclick="escolherFormaPagamento('CartÃ£o')">CartÃ£o</button>
    <button onclick="escolherFormaPagamento('PIX')">PIX</button>
  </div>
</div>

<script src="index.js"></script>
<script>
  async function carregarMenu() {
      console.log('Carregando o menu...');
      try {
          const response = await fetch('http://localhost:8080/food');
          const foods = await response.json();
          const menuContainer = document.getElementById('menu-container');
          menuContainer.innerHTML = '';

          foods.forEach(food => {
              const menuItem = document.createElement('div');
              menuItem.className = 'menu-item';
              menuItem.innerHTML = `
                  <img src="imagens/${food.imagem}" alt="${food.nome}" />
                  <h3>${food.nome}</h3>
                  <p>R$ ${food.preco.toFixed(2)}</p>
                  <div class="quantidade-container">
                      <label for="quantidade-item-${food.id}">Quantidade:</label>
                      <input type="number" value="1" min="1" id="quantidade-item-${food.id}" />
                  </div>
                  <button onclick="adicionarAoCarrinho('${food.nome}', ${food.preco}, 'quantidade-item-${food.id}')">
                      Adicionar
                  </button>
              `;
              menuContainer.appendChild(menuItem);
          });
      } catch (error) {
          console.error('Erro ao carregar o menu:', error);
      }
  }

  document.addEventListener('DOMContentLoaded', carregarMenu);
</script>
</body>
</html>
